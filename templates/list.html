{% extends "index.html" %}

{% block extrahead %}
<link rel="stylesheet" href="static/style_list.css">
{% endblock %}

{% block section %}

<body>
  <div class="category_btn">
    <button class="daily_products" onclick="location.href='{{ url_for('view_list', category='생활용품') }}'">생활용품</button>
    <button class="books" onclick="location.href='{{ url_for('view_list', category='책') }}'">책</button>
    <button class="ewha_goods" onclick="location.href='{{ url_for('view_list', category='이화 굿즈') }}'">이화 굿즈</button>
    <button class="etc" onclick="location.href='{{ url_for('view_list', category='기타') }}'">기타</button>
  </div>

  <div class="product-grid" id="products">

    {% if total > 0 %}
    <p>상품 총 {{total}}개</p>
    <table>
      {% for row in rows%}
      <tr>
        {% for key, value in row.items() %}
        <td onclick="location.href='/view_detail/{{key}}/';" style="cursor:pointer;">
          <img src="static/images/{{value.img_path}}" width=140 height=200>
        </td>
        {% endfor %}
      </tr>
      <tr>
        {% for key, value in row.items() %}
        <td>{{key}}</td>
        {% endfor %}
      </tr>
      {% endfor %}
    </table>
    {% else %}
    <p>등록된 상품이 없습니다.</p>
    {% endif %}
  </div>

  <!-- 페이지네이션 버튼 -->
  <div class="pagination" id="pagination">
    <ul>
      <li>
        {% for i in range(1, page_count+1)%}
        <a href="{{url_for('view_list', page=i)}}" color="black">{{i}}</a>
        {% endfor %}
      </li>
    </ul>
  </div>


</body>
{% endblock section %}